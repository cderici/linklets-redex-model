%
% The first command in your LaTeX source must be the \documentclass command.
\documentclass[sigplan,screen,anonymous]{acmart}

%
% defining the \BibTeX command - from Oren Patashnik's original BibTeX documentation.
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08emT\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

% Rights management information.
% This information is sent to you when you complete the rights form.
% These commands have SAMPLE values in them; it is your responsibility as an author to replace
% the commands and values with those provided to you when you complete the rights form.
%
% These commands are for a PROCEEDINGS abstract or paper.
\copyrightyear{2019}
\acmYear{2019}
%% \setcopyright{acmlicensed}

%% \acmConference[Woodstock '18]{Woodstock '18: ACM Symposium on Neural Gaze Detection}{June 03--05, 2018}{Woodstock, NY}
%% \acmBooktitle{Woodstock '18: ACM Symposium on Neural Gaze Detection, June 03--05, 2018, Woodstock, NY}
%% \acmPrice{15.00}
%% \acmDOI{10.1145/1122445.1122456}
%% \acmISBN{978-1-4503-9999-9/18/06}

%
% These commands are for a JOURNAL article.
%\setcopyright{acmcopyright}
%\acmJournal{TOG}
%\acmYear{2018}\acmVolume{37}\acmNumber{4}\acmArticle{111}\acmMonth{8}
%\acmDOI{10.1145/1122445.1122456}

%
% Submission ID.
% Use this when submitting an article to a sponsored event. You'll receive a unique submission ID from the organizers
% of the event, and this ID should be used as the parameter to this command.
%\acmSubmissionID{123-A56-BU3}

%
% The majority of ACM publications use numbered citations and references. If you are preparing content for an event
% sponsored by ACM SIGGRAPH, you must use the "author year" style of citations and references. Uncommenting
% the next command will enable that style.
%\citestyle{acmauthoryear}

\usepackage{float}
\usepackage{bm}
\usepackage{mathtools}
% \usepackage{multicol}
\floatstyle{boxed}
\restylefloat{figure}

\def\dash {\text{-}}
%
% end of the preamble, start of the body of the document source.
\begin{document}

%
% The "title" command has an optional parameter, allowing the author to define a "short title" to be used in page headers.
\title{Linklets}

%
% The "author" command and its associated commands are used to define the authors and their affiliations.
% Of note is the shared affiliation of the first two authors, and the "authornote" and "authornotemark" commands
% used to denote shared contribution to the research.
\author{Ben Trovato}
\authornote{Both authors contributed equally to this research.}
\email{trovato@corporation.com}
\orcid{1234-5678-9012}
\author{G.K.M. Tobin}
\authornotemark[1]
\email{webmaster@marysville-ohio.com}
\affiliation{%
  \institution{Institute for Clarity in Documentation}
  \streetaddress{P.O. Box 1212}
  \city{Dublin}
  \state{Ohio}
  \postcode{43017-6221}
}

\author{Lars Th{\o}rv{\"a}ld}
\affiliation{%
  \institution{The Th{\o}rv{\"a}ld Group}
  \streetaddress{1 Th{\o}rv{\"a}ld Circle}
  \city{Hekla}
  \country{Iceland}}
\email{larst@affiliation.org}

\author{Valerie B\'eranger}
\affiliation{%
  \institution{Inria Paris-Rocquencourt}
  \city{Rocquencourt}
  \country{France}
}

\author{Aparna Patel}
\affiliation{%
 \institution{Rajiv Gandhi University}
 \streetaddress{Rono-Hills}
 \city{Doimukh}
 \state{Arunachal Pradesh}
 \country{India}}

\author{Huifen Chan}
\affiliation{%
  \institution{Tsinghua University}
  \streetaddress{30 Shuangqing Rd}
  \city{Haidian Qu}
  \state{Beijing Shi}
  \country{China}}

\author{Charles Palmer}
\affiliation{%
  \institution{Palmer Research Laboratories}
  \streetaddress{8600 Datapoint Drive}
  \city{San Antonio}
  \state{Texas}
  \postcode{78229}}
\email{cpalmer@prl.com}

\author{John Smith}
\affiliation{\institution{The Th{\o}rv{\"a}ld Group}}
\email{jsmith@affiliation.org}

\author{Julius P. Kumquat}
\affiliation{\institution{The Kumquat Consortium}}
\email{jpkumquat@consortium.net}

%
% By default, the full list of authors will be used in the page headers. Often, this list is too long, and will overlap
% other information printed in the page headers. This command allows the author to define a more concise list
% of authors' names for this purpose.
\renewcommand{\shortauthors}{Trovato and Tobin, et al.}

%
% The abstract is a short summary of the work to be presented in the article.
\begin{abstract}
A clear and well-documented \LaTeX\ document is presented as an article formatted for publication by ACM in
a conference proceedings or journal publication. Based on the ``acmart'' document class, this article presents
and explains many of the common variations, as well as many of the formatting elements
an author may use in the preparation of the documentation of their work.
\end{abstract}

%
% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
<ccs2012>
 <concept>
  <concept_id>10010520.10010553.10010562</concept_id>
  <concept_desc>Computer systems organization~Embedded systems</concept_desc>
  <concept_significance>500</concept_significance>
 </concept>
 <concept>
  <concept_id>10010520.10010575.10010755</concept_id>
  <concept_desc>Computer systems organization~Redundancy</concept_desc>
  <concept_significance>300</concept_significance>
 </concept>
 <concept>
  <concept_id>10010520.10010553.10010554</concept_id>
  <concept_desc>Computer systems organization~Robotics</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
 <concept>
  <concept_id>10003033.10003083.10003095</concept_id>
  <concept_desc>Networks~Network reliability</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computer systems organization~Embedded systems}
\ccsdesc[300]{Computer systems organization~Redundancy}
\ccsdesc{Computer systems organization~Robotics}
\ccsdesc[100]{Networks~Network reliability}

%
% Keywords. The author(s) should pick words that accurately describe the work being
% presented. Separate the keywords with commas.
\keywords{datasets, neural networks, gaze detection, text tagging}

%
% A "teaser" image appears between the author and affiliation information and the body
% of the document, and typically spans the page.
%% \begin{teaserfigure}
%%   \includegraphics[width=\textwidth]{sampleteaser}
%%   \caption{Seattle Mariners at Spring Training, 2010.}
%%   \Description{Enjoying the baseball game from the third-base seats. Ichiro Suzuki preparing to bat.}
%%   \label{fig:teaser}
%% \end{teaserfigure}

%
% This command processes the author and affiliation and title information and builds
% the first part of the formatted document.
\maketitle

\section{Introduction}
ACM's consolidated article template, introduced in 2017, provides a consistent \LaTeX\ style for use across ACM publications, and incorporates accessibility and metadata-extraction functionality necessary for future Digital Library endeavors. Numerous ACM and SIG-specific \LaTeX\ templates have been examined, and their unique features incorporated into this single new template.

ACM's consolidated article template, introduced in 2017, provides a consistent \LaTeX\ style for use across ACM publications, and incorporates accessibility and metadata-extraction functionality necessary for future Digital Library endeavors. Numerous ACM and SIG-specific \LaTeX\ templates have been examined, and their unique features incorporated into this single new template.

ACM's consolidated article template, introduced in 2017, provides a consistent \LaTeX\ style for use across ACM publications, and incorporates accessibility and metadata-extraction functionality necessary for future Digital Library endeavors. Numerous ACM and SIG-specific \LaTeX\ templates have been examined, and their unique features incorporated into this single new template.


If you are new to publishing with ACM, this document is a valuable guide to the process of preparing your work for publication. If you have published with ACM before, this document provides insight and instruction into more recent changes to the article template.

The ``\verb|acmart|'' document class can be used to prepare articles for any ACM publication --- conference or journal, and for any stage of publication, from review to final ``camera-ready'' copy, to the author's own version, with {\it very} few changes to the source.

\begin{figure}[tbp]
  \begin{align*}
    e &::=\; x\; |\; v\; |\; (e\; e\; \ldots)\; |\; (\textbf{if}\; e\; e\; e)\; |\; (o\; e\; e)\; \\
    \; &|\; (\textbf{begin}\; e\; e\; \ldots)\; |\; (\textbf{lambda}\; (x_{\_!\_}\; \ldots)\; e)\\
    \; &|\; (\textbf{set!}\; x\; e)\; |\; (\textbf{raises}\; e)\\
    \; &|\; (\textbf{var\dash ref}\; x)\; |\; (\textbf{var\dash ref/no\dash check}\; x) \\
    \; &|\; (\textbf{var\dash set!}\; x\; e)\; |\; (\textbf{var\dash set/check\dash undef!}\; x\; e) \\
    v   &::=\; n\; |\; b\; |\; c\; |\; (void)\;|\; uninit \\ %;; values
    c   &::=\; (closure\; (x\; \ldots)\; e\; \rho) \\
    n   &::=\; number \\
    b   &::=\; true\; |\; false \\
    x,\; var &::=\; variable\dash not\dash otherwise\dash mentioned \\ %;; variables
    o  &::=\; +\; |\; * |\; < \\
    \rho   &::=\; ((x\; var)\; \ldots) \tag*{[Environment]}\\
    \sigma   &::=\; ((var\; v)\; \ldots) \tag*{[Store]}\\
    E   &::=\; []\; |\; (v\; \ldots\; E\; e\; \ldots)\; |\; (o\; E\; e)\; |\; (o\; v\; E) \\
    \;  &|\; (\textbf{var\dash set!}\; x\; E)\; |\; (\textbf{var\dash set/check\dash undef!}\; x\; E) \\
    \;  &|\; (\textbf{begin}\; v\; \ldots\; E\; e\; \ldots)\; |\; (\textbf{set!}\; x\; E)\; |\; (\textbf{if}\; E\; e\; e)
  \end{align*}
  \caption{Racket Core Language (RC)}
  \label{fig:racket-source}
\end{figure}

\begin{figure}[tbp]
  \begin{align*}
    L  &::= (\textbf{linklet}\:((imp\: \ldots)\: \ldots)\:(exp\: \ldots)\:l\dash top\:\ldots)\\
    l\dash top &::= (\textbf{define\dash values}\:(x)\:e)\:|\:e \\
    imp &::= x\:|\:(x x) \tag*{[external internal]}\\
    exp &::= x\:|\:(x x) \tag*{[internal external]}
  \end{align*}
  \caption{Linklet Source Language}
  \label{fig:linklet-source}
\end{figure}

\def\la {\bm{L_\alpha}}
\def\lb {\bm{L_\beta}}
\def\lc {\bm{L_\gamma}}

%% math mode font fize

%% displaystyle: $ {\displaystyle x^2 + 2xy + y^2} $\\
%% scriptstyle: $ {\scriptstyle x^2 + 2xy + y^2} $\\
%% scriptscriptstyle: $ {\scriptscriptstyle x^2 + 2xy + y^2} $\\
%% textstyle: $ {\textstyle x^2 + 2xy + y^2} $

\begin{figure}[tbp]
  \begin{align*}
    CL             &::=\; \bm{\Phi^C}(L)\\
    L\dash obj     &::= (\la\; c\dash imps \; c\dash exps \; l\dash top \ldots)\\
    \;           &\;|\; (\lb\; x\; l\dash top\; \ldots) \\
    c\dash imps    &::=\; ((imp\dash obj\; \ldots)\; \ldots)\\
    c\dash exps    &::=\; (exp\dash obj\; \ldots)\\
    imp\dash obj   &::=\; (\textbf{Import}\; x\; x\; x) \tag*{[id int ext]} \\
    exp\dash obj   &::=\; (\textbf{Export}\; x\; x\; x) \tag*{[id int ext]} \\
    LI             &::=\; (\textbf{linklet\dash instance}\; (x\; var)\; \ldots) \\
    I              &::=\; \bm{\Phi^I}(l\dash ref\; i\dash ref\; \ldots) \\
    \;           &\;|\; \bm{\Phi^I}(l\dash ref\; i\dash ref\; \ldots\; \textbf{\#:t}\; i\dash ref) \\
    l\dash ref &::=\; x\; |\; L\dash obj \\
    i\dash ref  &::=\; x\; |\; LI \\
  \end{align*}
  \hfill \footnotesize $\Phi^C : \textbf{compile\dash linklet}\:,\: \Phi^I : \textbf{instantiate\dash linklet}$
\caption{Linklet Runtime Language}
\label{fig:linklet-runtime}
\end{figure}

\begin{figure}[h!]
  \begin{align*}
    p           &::=\; (\textbf{program}\; ((x_{\_!\_}\; L)\; \ldots)\; p\dash top)\; |\; v \\
    p\dash top  &::=\; v\; |\; LI\; |\; I\; |\; (\textbf{seq}\; p\dash top\; \ldots)\; |\; \bm{\Phi^V}(i\dash ref\; x) \\
    \;          &\;|\; (\textbf{let\dash inst}\; x\; p\dash top\;p\dash top) \\
    v           &::=\; ....\;|\;(v\;x) \\
    EP          &::=\; [] \\
    \;          &\;|\; \bm{\Phi^I}(EP\; i\dash ref\; \ldots) \\ % resolve the linklet
    %\;          &\;|\; \bm{\Phi^I}(L\dash obj\; LI\; \ldots EP\; i\dash ref\; \ldots) \\ % resolve the imported instances
    \;          &\;|\; \bm{\Phi^I}(EP\; i\dash ref\; \ldots \textbf{\#:t}\; i\dash ref) \\ % resolve the linklet
    %\;          &\;|\; \bm{\Phi^I}(L\dash obj\; LI\; \ldots EP\; i\dash ref\; \ldots\; \textbf{\#:t}\; i\dash ref) \\ % resolve the imported instances
    \;          &\;|\; \bm{\Phi^I}((\lb\; x\; v\; \ldots\; EP\; l\dash top\; \ldots)\; i\dash ref\; \ldots) \\
    %\;          &\;|\; \bm{\Phi^I}((\lc\; v\; \ldots\; EP\; l\dash top\; \ldots)\; i\dash ref\; \ldots) \\
    %\;          &\;|\; \bm{\Phi^V}(EP\; x) \\
    \;          &\;|\; (\textbf{define\dash values}\:(x)\:EP) \\
    \;          &\;|\; (\textbf{let\dash inst}\; x\; EP\; p\dash top)\; |\; (\textbf{seq}\; v\; \ldots\; EP\; p\dash top\; \ldots) \\
    \;          &\;|\; (\textbf{program}\; ()\; EP) \\
  \end{align*}
  \hfill \footnotesize $\Phi^V : \textbf{instance\dash variable\dash value}\:,\: \Phi^I : \textbf{instantiate\dash linklet}$
\caption{Linklet Programs}
\label{fig:linklet-program}
\end{figure}

%\onecolumn
%\newpage
\newcommand{\redinput}[1]{EP\;\llbracket #1 \rrbracket, \rho, \sigma\;}
\newcommand{\redoutput}[3]{EP\;\llbracket #1 \rrbracket, #2, #3\;}
\def\where {\textbf{where}\;}
\def\rel {&\longrightarrow_{\beta p}\;}

% \redoutput{}{}{}{}{}
\begin{figure*}[tbp]
  \begin{align*}
    %\redinput{x} \rel \redoutput{LI}{\rho}{\sigma} \where LI \; =\; (lookup\; \sigma\; x) \\
    \redinput{\bm{\Phi^V}(x_{li},\; x)} \rel \redoutput{v}{\rho}{\sigma} \where v\; =\; (lookup\; \sigma\; (lookup\; \sigma\; x_{li})[x]) \\
    \redinput{(\textbf{let\dash inst}\; x\; (v\;x_i)\; p\dash top)} \rel \redoutput{p\dash top}{\rho}{\sigma_1} \where \sigma_1 = \sigma[x\rightarrow (lookup\; \sigma\; x_i)] \\
    \redinput{(\textbf{seq}\; v_{1}\; \ldots\; v_{n})} \rel \redoutput{v_{n}}{\rho}{\sigma} \\
    \redinput{(\bm{\Phi^I}\; (\lb\; x\; v\; \ldots v_{l}))} \rel \redoutput{(v_{l}\; x)}{\rho}{\sigma} \\
    \redinput{(\textbf{define\dash values}\; (x)\; v)} \rel \redoutput{(void)}{\rho_1}{\sigma_1} \where \rho_1 = \rho[x\rightarrow cell],\; \sigma_1 = \sigma[cell\rightarrow v] \\
    \redinput{(\bm{\Phi^I}(\la\; c\dash imps \; c\dash exps \; l\dash top \ldots)\; LI\; \ldots)} \rel \redoutput{(\bm{\Phi^I}(\la\; c\dash imps \; c\dash exps \; l\dash top\; \ldots)\; LI\; \ldots\; \textbf{\#:t}\; x_{t})}{\rho}{\sigma_1} \\
    \;          &\;\; \where x_t = (gensym), \sigma_1 = \sigma[x_t\rightarrow (linklet\dash instance)] \\
    %\;          &\;\; \rho_1 = \mathit{V}^I(c\dash imps, (LI\; \ldots), \rho, \sigma_1) \\
    %\;          &\;\; (\rho_2, \sigma_2) = \mathit{V}^E(c\dash exps, x_t, \rho_1, \sigma_1) \\
    EP\;\llbracket (\bm{\Phi^I}(\la\; c\dash imps \; c\dash exps \; l\dash top \ldots)\; LI\; \ldots\; \textbf{\#:t}\; x_{t}) \rrbracket, \rel \redoutput{(\bm{\Phi^I}(\lb\; x_{t}\; l\dash top\; \ldots))}{\rho_2}{\sigma_1} \\
    \rho, \sigma\; &\;\; \where \rho_1 = \mathit{V}^I(c\dash imps, (LI\; \ldots), \rho, \sigma) \\
    \;          &\;\; \hspace{0.4cm} (\rho_2, \sigma_1) = \mathit{V}^E(c\dash exps, x_t, \rho_1, \sigma) \\ \\
    (\textbf{program}\; ((x\;L),(x_1\;L_1)\;\ldots)\;p\dash top), \rho, \sigma &\twoheadrightarrow_{p}\; (\textbf{program}\; ((x_1\;L_1)\;\ldots)\;p\dash top[x := \bm{\Phi^C}(L)]), \rho, \sigma \\
    eval^{\longrightarrow_{\beta p}}(p) &=\; v\; \textbf{if}\; p, (), () \twoheadrightarrow_{p\cup\beta p\cup\beta r} \; (\textbf{program}\; ()\;(v\;\_)) \\
  \end{align*}
  \hfill \footnotesize $\Phi^V : \textbf{instance\dash variable\dash value}\:,\: \Phi^I : \textbf{instantiate\dash linklet},\: \mathit{V}^I : \textbf{get  import variables},\: \mathit{V}^E : \textbf{create variables for exports}$
\caption{Reduction Relation}
\label{fig:reduction}
\end{figure*}

\newcommand{\runio}[1]{run\dash prog(#1, \rho, \sigma)\;}
\newcommand{\prog}[2]{(\textbf{program}\; (\textbf{use\dash linklets}\;#1 )\;#2)}
\def\transrel {&\twoheadrightarrow_{p}\;}

\begin{figure*}[tbp]
  \begin{align*}
    \mathit{V}^I : c\dash imps \times (LI\;\ldots) \times \rho \times \sigma &\longrightarrow \rho \\
    \mathit{V}^I((), (LI\;\ldots), \rho, \sigma) &= \rho \\
    \mathit{V}^I((\ldots\;((\textbf{Import}\; x_{id}\;x_{int}\;x_{ext})\;\ldots)_n\;\ldots), (\ldots\;LI_n\;\ldots), \rho, \sigma) &= \rho[x_{id}\rightarrow var]\; \where var = LI_n(x_{ext}) \\ \\
    \mathit{V}^E : c\dash exps \times x \times \rho \times \sigma &\longrightarrow \rho \times \sigma \\
    \mathit{V}^E((), x_t, \rho, \sigma) &=\; (\rho, \sigma) \\
    \mathit{V}^E((exp\dash obj\;\ldots), x_t, \rho, \sigma) &= \mathit{P}(exp\dash obj, x_t, \rho, \sigma)\\
    \mathit{P}((\textbf{Export}\;x_{id}\;x_{int}\;x_{ext}), x_t, \rho, \sigma) &= \begin{cases*}
      \rho_1, \sigma & if $\;x_{ext} \in LI_t$ \\
      \;        &\; \where $LI_t = (lookup\; \sigma\; x_t)$ \\
      \;        &\; $\rho_1 = \rho[x_{id}\rightarrow LI_t[x_{ext}]]$ \\
        \rho_1, \sigma_1 & if $\;x_{ext} \notin LI_t$\\
        \;        &\; \where $LI_t = (lookup\; \sigma\; x_t)$ \\
        \;        &\; $\rho_1 = \rho[x_{id}\rightarrow var_{new}]$ \\
        \;        &\; $\sigma_1 = \sigma[var_{new}\rightarrow uninit,$ \\
        \;        &\; \hspace{1.7cm} $x_t\rightarrow LI_t[x_{ext}\rightarrow var_{new}]]$ \\
    \end{cases*} \\ \\
  \end{align*}
  \hfill \footnotesize $\mathit{V}^I : \textbf{get  import variables},\: \mathit{V}^E : \textbf{create variables for exports}$
\caption{Instantiation Utilities}
\label{fig:inst-utils}
\end{figure*}

%%%
% compile-main

% c-body ------------ define-values | symbols | set! | others (?)

% c-def-val
% c-symbol
% c-set-bang

% --------- utils ---------
% LinkletsCompile (?)
% process-import
% process-export

% get-all-mutated-vars
% all-toplevels

%%%

\begin{figure*}[tbp]
  \small
  \begin{align*}
    \Phi^C : L &\longrightarrow L\dash obj \\
    \Phi^C((\textbf{linklet}\; ((imp\; \ldots)\; \ldots)\; (exp\; \ldots)\; l\dash top\; \ldots))\; &=\; (\la\; c\dash imps\; c\dash exps\; l\dash top_1\; \ldots) \\
    \;        &\; \where l\dash top_1\; \ldots\; =\; \Phi^C_{\textbf{e}}(l\dash top,(),(x_M\;\ldots),(x_T\;\ldots))\; \ldots \\
    \;        &\; c\dash imps = \mathit{A}^I(((imp\; \ldots)\; \ldots)) \\
    \;        &\; c\dash exps = \mathit{A}^E((exp\; \ldots)) \\
    \;        &\; (x_T\;\ldots) = toplevel\dash ids(l\dash top\; \ldots) \\
    \;        &\; (x_M\;\ldots) = mutated\dash ids(l\dash top\; \ldots) \\ \\
    \mathit{A}^I : ((imp\; \ldots)\; \ldots) &\longrightarrow ((imp\dash obj\; \ldots)\; \ldots) \\
    \mathit{A}^I((imp_n\; \ldots)\; \ldots)\; &=\; ((imp\dash obj_n\; \ldots)\; \ldots) \\
    \;   \where imp\dash obj_n  &=\; \begin{cases*}
      (\textbf{Import}\;(gensym)\;x\;x) & if $imp_n = x$ \\
      (\textbf{Import}\;(gensym)\;x_{int}\;x_{ext}) & if $imp_n = (x_{ext}\;x_{int})$ \\
    \end{cases*} \\ \\
    \mathit{A}^E : (exp\; \ldots) &\longrightarrow (exp\dash obj\; \ldots) \\
    \mathit{A}^E(exp_n\; \ldots)\; &=\; (exp\dash obj\; \ldots) \\
    \;   \where exp\dash obj_n  &=\; \begin{cases*}
      (\textbf{Export}\;(gensym)\;x\;x) & if $exp_n = x$ \\
      (\textbf{Export}\;(gensym)\;x_{int}\;x_{ext}) & if $exp_n = (x_{int}\;x_{ext})$ \\
    \end{cases*} \\ \\
    %\Phi^C_{\textbf{e}} : l\dash top \times (c\dash imps\;\ldots) \times (c\dash exps\;\ldots) \times (x\;\ldots) \times (x\;\ldots) \times (x\;\ldots) &\longrightarrow l\dash top\; \ldots \\
    \Phi^C_{\textbf{e}} : l\dash top \times \mathit{C_I} \times \mathit{C_E} \times \mathit{X_L} \times\mathit{X_M} \times\mathit{X_T} &\longrightarrow l\dash top\; \ldots \\
    \;          &\;\; \where \mathit{C_I} : (c\dash imps\;\ldots), \mathit{C_E} : (c\dash exps\;\ldots) \\
    \;          &\;\; \mathit{X_L} : (x\;\ldots), \mathit{X_M} : (x\;\ldots), \mathit{X_T} : (x\;\ldots) \\
    \Phi^C_{\textbf{e}}((\textbf{define\dash values}\:(x)\:e),\mathit{C_I}, \mathit{C_E}, \mathit{X_L},\mathit{X_M},\mathit{X_T})\; &=\; \begin{cases*}
      (\textbf{define\dash values}\:(x)\:e), (var\dash set!\; x_{gen}\; x)\;\; \;\; if\; (\textbf{Export}\; x_{gen}\; x\; x_{ext}) \in\;\mathit{C_E} \\
      (\textbf{define\dash values}\:(x)\:e) \hspace{2.5cm} \;\; otherwise
    \end{cases*} \\
    \Phi^C_{\textbf{e}}((\textbf{set!}\; x\; e),\mathit{C_I}, \mathit{C_E}, \mathit{X_L},\mathit{X_M},\mathit{X_T})\; &=\; \begin{cases*}
      (\textbf{var\dash set/check\dash undef!}\; x_{gen}\; e) \hspace{1.4cm} if\; (\textbf{Export}\; x_{gen}\; x\; x_{ext}) \in\;\mathit{C_E}\\
      (\textbf{set!}\; x\; e) \hspace{4.3cm} otherwise
    \end{cases*} \\
    \Phi^C_{\textbf{e}}(x,\mathit{C_I}, \mathit{C_E}, \mathit{X_L},\mathit{X_M},\mathit{X_T})\; &=\; \begin{cases*}
      (\textbf{var\dash ref/no\dash check}\; x_{gen}) \hspace{1.5cm} if\; (\textbf{Import}\; x_{gen}\; x\; x_{ext}) \in\;\mathit{C_I} \\
      (\textbf{var\dash ref}\; x) \hspace{3.3cm} if\; (\textbf{Export}\; x_{gen}\; x\; x_{ext}) \in\;\mathit{C_E}\;\; \&\;\; x\in \mathit{X_M} \\
      (\textbf{var\dash ref}\; x) \hspace{3.3cm} if\; (\textbf{Export}\; x_{gen}\; x\; x_{ext}) \in\;\mathit{C_E}\;\; \&\;\; x\notin \mathit{X_T} \\
      x \hspace{4.6cm} otherwise
    \end{cases*} \\
    \Phi^C_{\textbf{e}}(e,\mathit{C_I}, \mathit{C_E}, \mathit{X_L},\mathit{X_M},\mathit{X_T})\; &=\; recurse \\
  \end{align*} \\
  \hfill \footnotesize $\mathit{A}^I : \textbf{create import objects},\: \mathit{A}^E : \textbf{create exports objects}$
\caption{Compile Linklet}
\label{fig:compile}
\end{figure*}

%\newpage

% \verb|acmart|

\section{Linklets \& Programs}

We start by presenting a core language (RC) that will be used in the
linklet body. This language is a very minimal subset of Racket, the
grammar of which is shown in Figure \ref{fig:racket-source}.

Linklets act as compilation units in the Racket runtime. Given a
Racket module, the expander produces a bundle of linklets for the
compiler to consume.

Figure \ref{fig:linklet-source} shows the grammar of the linklet
language, which is an extension of RC with the \verb|linklet| form and
toplevel definitions. A linklet consists of a set of variable
definitions and expressions, an exported subset of the defined
variable names, a set of variables to export from the linklet despite
having no corresponding definition, and a set of imports that provide
other variables for the linklet to use. To run a linklet, it is
instantiated as a {\it linklet instance}. When a linklet is
instantiated, it receives other linklet instances for its imports, and
it extracts a specified set of variables that are exported from each
of the given instances. The newly created linklet instance provides
its exported variables for use by other linklets or for direct access
via {\it instance-variable-value}. [COPY FROM DOCS]

Figure \ref{fig:linklet-runtime} shows the grammar of the run\dash
time language for linklets, i.e. produces expressions that represent
the run\dash time objects used in the evaluation of linklets.

Since the linklets are lambda\dash like binding forms and not capable
of starting a computation by themselves, we introduce a top\dash level
form, namely \verb|program|, to express loading and using a set of
given linklets. Figure \ref{fig:linklet-program} shows the grammar for
\verb|program|s. 

\newpage
\section{}
Some examples.  A paginated journal article \cite{Abril07}, an enumerated journal article \cite{Cohen07}, a reference to an entire issue \cite{JCohen96}, a monograph (whole book) \cite{Kosiur01}, a monograph/whole book in a series (see 2a in spec. document)
\cite{Harel79}, a divisible-book such as an anthology or compilation \cite{Editor00} followed by the same example, however we only output the series if the volume number is given \cite{Editor00a} (so Editor00a's series should NOT be present since it has no vol. no.),
a chapter in a divisible book \cite{Spector90}, a chapter in a divisible book in a series \cite{Douglass98}, a multi-volume work as book \cite{Knuth97}, an article in a proceedings (of a conference, symposium, workshop for example) (paginated proceedings article) \cite{Andler79}, a proceedings article with all possible elements \cite{Smith10}, an example of an enumerated proceedings article \cite{VanGundy07}, an informally published work \cite{Harel78}, a doctoral dissertation \cite{Clarkson85}, a master's thesis: \cite{anisi03}, an online document / world wide web resource \cite{Thornburg01, Ablamowicz07, Poker06}, a video game (Case 1) \cite{Obama08} and (Case 2) \cite{Novak03} and \cite{Lee05} and (Case 3) a patent \cite{JoeScientist001}, work accepted for publication \cite{rous08}, 'YYYYb'-test for prolific author \cite{SaeediMEJ10} and \cite{SaeediJETC10}. Other cites might contain 'duplicate' DOI and URLs (some SIAM articles) \cite{Kirschmer:2010:AEI:1958016.1958018}. Boris / Barbara Beeton: multi-volume works as books \cite{MR781536} and \cite{MR781537}. A couple of citations with DOIs: \cite{2004:ITE:1009386.1010128,Kirschmer:2010:AEI:1958016.1958018}. Online citations: \cite{TUGInstmem, Thornburg01, CTANacmart}.

%
% The acknowledgments section is defined using the "acks" environment (and NOT an unnumbered section). This ensures
% the proper identification of the section in the article metadata, and the consistent spelling of the heading.
%% \begin{acks}
%% To Robert, for the bagels and explaining CMYK and color spaces.
%% \end{acks}

%
% The next two lines define the bibliography style to be used, and the bibliography file.
\bibliographystyle{ACM-Reference-Format}
\bibliography{linklets}

%
% If your work has an appendix, this is the place to put it.

\end{document}
